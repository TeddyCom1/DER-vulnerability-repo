from flask import Flask
from json import dumps
import threading

POWER_REQUIRMENT = 100
TIMER_TIME = 60 # Default 60 seconds

app = Flask(__name__)

@app.route('/power_requirement', methods=['GET'])
def restricted_values():
    return dumps({
    "power_requirement": 'The power requirement is {}'.format(POWER_REQUIRMENT)
    })

def change_power_requirment():
    print("Third party change power requirment (MALICIOUS)")
    print("Changing POWER Requirement to 3000")
    POWER_REQUIRMENT = 3000
    print("Change Success")

if __name__ == '__main__':
    app.run(debug=True, host='0.0.0.0',port=8081)
    threading.Timer(TIMER_TIME, change_power_requirment).start()