from defusedxml.ElementTree import parse
from flask import Flask, request

app = Flask(__name__)

@app.route('/xml_bad', methods=['POST'])
def restricted_values():
    value = request.form['xml']
    with open("xml_file.xml","w") as f:
        f.write(value)
    try:
        et = parse("xml_file.xml")
        kids = et.children()
        for kid in kids:
            print(kid)

        print(et)
        return et
    except Exception as x:
        print(x)
    
if __name__ == '__main__':
    app.run(debug=True, host='0.0.0.0',port=8081)
